box:
    id: mhart/alpine-node
    cmd: /bin/sh
build:
  steps:
    - script:
      name: install
      code: |
        echo http://dl-cdn.alpinelinux.org/alpine/edge/testing >> /etc/apk/repositories && \
        echo http://dl-cdn.alpinelinux.org/alpine/edge/community >> /etc/apk/repositories && \
        apk --update add yarn emscripten emscripten-libs-asmjs emscripten-libs-wasm emscripten-fastcomp binaryen git
    - script:
      name: opencvjs and opencv
      code: |
        git clone https://github.com/ucisysarch/opencvjs.git && cd opencvjs && \
        git clone https://github.com/opencv/opencv.git
    - script:
      name: actual build
      code: |
        pwd && yarn && yarn run compile && ls .
